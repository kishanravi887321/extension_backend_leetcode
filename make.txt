Endpoint Documentation: /api/quests/upsert

1. Endpoint Details
------------------
URL: {BACKEND_URL}/api/quests/upsert
Method: POST
Headers: 
  - Content-Type: application/json
  - Authorization: Bearer <your_jwt_token>

Body Parameters:
  - questName (required): String
  - questNumber (required): String (ID of the problem on the platform)
  - questLink (required): String
  - platform (required): String ("leetcode", "codeforces", etc.)
  - difficulty (optional): String ("easy", "medium", "hard")
  - topics (optional): Array of Strings
  - status (optional): String ("solved", "unsolved")
  - notes (optional): String
  - bookmarked (optional): Boolean

2. Need for Upsert
-----------------
The "Upsert" (Update or Insert) operation is crucial for a browser extension because:
- Idempotency: You can send the same problem data multiple times without creating duplicates.
- Synchronization: When a user solves a problem again (e.g., in a different language or better optimization), it updates the existing record instead of failing or duplicating.
- Simplicity: The extension doesn't need to check if a problem exists first (GET) and then decide to POST or PATCH. It just sends the current state, and the backend handles the rest.

3. Implementation in Extension
-----------------------------
You can implement this in your extension's background script or content script using the fetch API.

Example Function:

async function syncQuestionToBackend(questionData, authToken) {
  try {
    const response = await fetch('http://localhost:5000/api/quests/upsert', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'Authorization': `Bearer ${authToken}`
      },
      body: JSON.stringify({
        questName: questionData.title,
        questNumber: questionData.id,
        questLink: window.location.href,
        platform: 'leetcode',
        difficulty: questionData.difficulty.toLowerCase(),
        topics: questionData.topicTags.map(tag => tag.name),
        status: 'solved' // or derived from page state
      })
    });

    const data = await response.json();
    if (data.success) {
      console.log('Question synced successfully:', data);
    } else {
      console.error('Failed to sync question:', data.message);
    }
  } catch (error) {
    console.error('Error syncing question:', error);
  }
}
